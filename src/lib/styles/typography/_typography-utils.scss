@import 'variables';


@function mc-typography-level(
    $font-size,
    $line-height: $font-size,
    $font-weight: 400,
    $font-family: null) {

    @return (
        font-size: $font-size,
        line-height: $line-height,
        font-weight: $font-weight,
        font-family: $font-family
    );
}

@function _mc-get-type-value($config, $level, $name) {
    @return map-get(map-get($config, $level), $name);
}

@function mc-font-size($config, $level) {
    @return _mc-get-type-value($config, $level, font-size);
}

@function mc-line-height($config, $level) {
    @return _mc-get-type-value($config, $level, line-height);
}

@function mc-font-weight($config, $level) {
    @return _mc-get-type-value($config, $level, font-weight);
}

// Gets the font-family from a typography config and removes the quotes around it.
@function mc-font-family($config, $level: null) {
    $font-family: map-get($config, font-family);

    @if $level != null {
        $font-family: _mc-get-type-value($config, $level, font-family);
    }


    @return unquote($font-family);
}

@mixin mc-typography-level-to-styles($config, $level) {
    $font-size: mc-font-size($config, $level);
    $font-weight: mc-font-weight($config, $level);
    $line-height: mc-line-height($config, $level);
    $font-family: mc-font-family($config, $level);

    font: $font-weight #{$font-size}/#{$line-height} $font-family;
}

// OpenType ligatures, discretionary ligatures and lining figures enabled if available.
// TODO: mb need add $selector: '.mc-typography' ?
@mixin mc-base-typography($config) {

    .mc-headline {
        @include mc-typography-level-to-styles($config, headline);
    }

    .mc-title {
        @include mc-typography-level-to-styles($config, title);
    }

    .mc-subheading-2 {
        @include mc-typography-level-to-styles($config, subheading-2);
    }

    .mc-subheading-1 {
        @include mc-typography-level-to-styles($config, subheading-1);
    }

    .mc-body-strong {
        @include mc-typography-level-to-styles($config, body-2);
    }

    .mc-body {
        @include mc-typography-level-to-styles($config, body-1);
    }

    .mc-display-4 {
        @include mc-typography-level-to-styles($config, display-4);
        font-feature-settings: 'dlig', 'liga', 'lnum', 'kern';
    }

    .mc-display-3 {
        @include mc-typography-level-to-styles($config, display-3);
        font-feature-settings: 'dlig', 'liga', 'lnum', 'kern';
    }

    .mc-display-2 {
        @include mc-typography-level-to-styles($config, display-2);
        font-feature-settings: 'dlig', 'liga', 'lnum', 'kern';
    }

    .mc-display-1 {
        @include mc-typography-level-to-styles($config, display-1);
        font-feature-settings: 'dlig', 'liga', 'lnum', 'kern';
    }
}
